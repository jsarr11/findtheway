<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FindTheWay-Play Prim</title>
    <link rel="icon" href="/img/favicon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles-game.css">
    <link rel="stylesheet" href="/css/styles.css">
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/js/language-switcher.js"></script>
    <script type="module" src="/js/prim/main.js" defer></script>
    <script type="module" src="../js/scores.js" defer></script>
</head>
<body>
<header>
    <button id="switch-lang">English</button>
    <input type="hidden" id="gameMethod" value="prim">
</header>

<div class="game-container">
    <!-- Single cytoscape container -->
    <div id="cy" style="width:100%; height:100%; border:1px solid #ccc;"></div>

    <!-- Greek Content -->
    <div id="content-el">
        <h2>Το παιχνίδι ξεκίνησε!</h2>
        <p id="error-message-el" style="display:none; color:red; font-weight:bold;"></p>        <table id="action-table-el">
            <tr>
                <th>Αρχική κορυφή</th>
                <th>Στόχος κορυφής</th>
                <th>Βάρος</th>
            </tr>
        </table>
        <div class="flexed">
            <button id="undo-button-el">Αναίρεση τελευταίας ακμής</button>
        </div>
        <div id="timer-el" class="flexed2">
            <div class="timer">
                <span><strong>Χρόνος: </strong></span><span id="minutes-el">00</span>:<span id="seconds-el">00</span>
            </div>
            <div class="weights">
                <span><strong>Συνολικό βάρος: </strong></span><span id="total-weight-el">0</span>
            </div>
        </div>
        <div id="submit-line-el" class="flexed2 submit-line">
            <button id="pause-button-el" class="btn pause-button">Παύση</button>
            <div id="pause-popup-el" class="popup hidden">
                <div class="popup-content">
                    <h2>Παύση Παιχνιδιού</h2>
                    <div class="popup-buttons">
                        <button class="btn popup-button resume-button">Συνέχεια</button>
                        <button class="btn popup-button quit-button">Έξοδος</button>
                    </div>
                </div>
            </div>
            <div>
                <button id="submit-button-el">Έλεγχος</button>
            </div>
            <div>
                <button onclick="window.location.href='/play-prim'">Εξοδος</button>
            </div>
        </div>
        <div id="popup-el" class="popup hidden popup-2">
            <div class="popup2-content">
                <p id="popup-message-el"></p>
                <div id="comparison-table-el" style="margin-top: 10px;"></div>
                <div>
                    <button id="tutorial-button-el">Οδηγίες παιχνιδιού</button>
                    <button class="btn popup-button restart-button">Ξεκινήστε ξανά</button>
                    <button onclick="location.reload()">Νέο παιχνίδι</button>
                    <button id="scores-button-el">Σκορ</button>
                </div>
                <div>
                    <button onclick="window.location.href='/play-prim'">Πισω</button>
                </div>
            </div>
        </div>

        <!-- Greek SCORES POPUP inserted below -->
        <div id="scores-popup-el" class="popup hidden popup-2">
            <div class="centered">
                <img src="./img/logo_500x500.png" alt="Logo" class="bigLogo">
            </div>
            <h1>Βαθμολογίες</h1>
            <div class="scores-el">
                <div class="table-left">
                    <h2>μέθοδος του Prim</h2>
                    <table id="prim-scores-el" class="score-table"></table>
                </div>
                <div class="table-right">
                    <h2>μέθοδος του Kruskal</h2>
                    <table id="kruskal-scores-el" class="score-table"></table>
                </div>
            </div>
            <div id="player-scores-el" class="player-scores">
                <h2>Τα σκορ σου</h2>
                <table id="player-scores-table-el" class="score-table">
                    <tr>
                        <th>Prim's</th>
                        <th>Kruskal's</th>
                    </tr>
                    <tr>
                        <td id="player-prim-el">0</td>
                        <td id="player-kruskal-el">0</td>
                    </tr>
                </table>
            </div>
            <div style="text-align: center; margin-top: 10px;">
                <button id="close-scores-popup-el">Κλείσιμο</button>
            </div>
        </div>
        <!-- END Greek SCORES POPUP -->

        <!-- Greek Tutorial Popup -->
        <div id="tutorial-popup-el" class="popup hidden popup-2">
            <div class="centered">
                <img src="./img/logo_500x500.png" alt="Logo" class="bigLogo">
            </div>
            <div class="info info-popup">
                <h1>Prim - οδηγός παιχνιδιού</h1>
                <h3>Ο στόχος του παιχνιδιού είναι να δημιουργήσετε το Ελάχιστο Καλυπτικό Δέντρο (MST)
                    ξεκινώντας από έναν αρχικό κόμβο και επιλέγοντας τις ακμές με το μικρότερο βάρος που
                    συνδέουν το MST με νέα κορυφές.</h3>
                <h2>Βήματα για να παίξετε:</h2>
                <ol>
                    <li><strong>Ξεκινήστε το παιχνίδι</strong> – Θα δείτε έναν γράφο με κόμβους και ακμές. Ένας κόμβος είναι
                        επιλεγμένος ως το αρχικό σημείο (σηματοδοτημένος διαφορετικά).</li>
                    <li><strong>Επιλογή ακμών</strong> – Πατήστε σε μία ακμή που συνδέει τον επιλεγμένο κόμβο με έναν νέο κόμβο.</li>
                    <li><strong>Συνέχιση της διαδικασίας</strong> – Συνεχίστε να προσθέτετε ακμές ακολουθώντας τον αλγόριθμο Prim
                        μέχρι να συμπεριληφθούν όλοι οι κόμβοι.</li>
                    <li><strong>Έλεγχος απάντησης</strong> – Πατήστε το κουμπί Έλεγχος για να ελέγξετε αν η λύση σας είναι σωστή.</li>
                </ol>
                <h2>Χρήσιμα κουμπιά στο παιχνίδι</h2>
                <ul>
                    <li><strong>Αναίρεση (Undo)</strong> – Μπορείτε να αφαιρέσετε την τελευταία ακμή που προσθέσατε είτε
                        πατώντας το κουμπί αναίρεσης είτε επιλέγοντας μια ήδη επιλεγμένη ακμή.</li>
                    <li><strong>Παύση (Pause)</strong> – Μπορείτε να πατήσετε παύση για να διακόψετε προσωρινά το παιχνίδι.</li>
                    <li><strong>Επανεκκίνηση (Start again)</strong> - Αν θέλετε να ξεκινήσετε από την αρχή, μπορείτε να πατήσετε το κουμπί επανεκκίνησης.</li>
                    <li><strong>Σκορ (Scores)</strong> – Μπορείτε να δείτε τη βαθμολογία σας και τη βαθμολογία άλλων παικτών.</li>
                </ul>
            </div>
            <!-- Close button at bottom -->
            <div style="text-align: center; margin-top: 10px;">
                <button id="close-tutorial-popup-el">Κλείσιμο</button>
            </div>
        </div>

    </div>

    <!-- English Content -->
    <div id="content-en" style="display:none;">
        <h2>Game has started!</h2>
        <p id="error-message-en" style="display:none; color:red; font-weight:bold;"></p>
        <table id="action-table-en">
            <tr>
                <th>Starting vertex</th>
                <th>Target vertex</th>
                <th>Weight</th>
            </tr>
        </table>
        <div class="flexed">
            <button id="undo-button-en">Undo last edge</button>
        </div>
        <div id="timer-en" class="flexed2">
            <div class="timer">
                <span><strong>Time: </strong></span><span id="minutes-en">00</span>:<span id="seconds-en">00</span>
            </div>
            <div class="weight">
                <span><strong>Total weight: </strong></span><span id="total-weight-en">0</span>
            </div>
        </div>
        <div id="submit-line-en" class="flexed2 submit-line">
            <button id="pause-button-en" class="btn pause-button">Pause</button>
            <div id="pause-popup-en" class="popup hidden">
                <div class="popup-content">
                    <h2>Game Paused</h2>
                    <div class="popup-buttons">
                        <button class="btn popup-button resume-button">Resume</button>
                        <button class="btn popup-button quit-button">Quit</button>
                    </div>
                </div>
            </div>
            <div>
                <button id="submit-button-en">Submit</button>
            </div>
            <div>
                <button onclick="window.location.href='/play-prim'">Quit</button>
            </div>
        </div>
        <div id="popup-en" class="popup hidden popup-2">
            <div class="popup2-content">
                <p id="popup-message-en"></p>
                <div id="comparison-table-en" style="margin-top: 10px;"></div>

                <div>
                    <button id="tutorial-button-en">How to play</button>
                    <button class="btn popup-button restart-button">Start again</button>
                    <button onclick="location.reload()">New game</button>
                    <button id="scores-button-en">Scores</button>
                </div>
                <div>
                    <button onclick="window.location.href='/play-prim'">Quit</button>
                </div>
            </div>
        </div>

        <!-- English SCORES POPUP inserted below -->
        <div id="scores-popup-en" class="popup hidden popup-2">
            <div class="centered">
                <img src="./img/logo_500x500.png" alt="Logo" class="bigLogo">
            </div>
            <h1>Scores</h1>
            <div class="scores-en">
                <div class="table-left">
                    <h2>Prim's method</h2>
                    <table id="prim-scores-en" class="score-table"></table>
                </div>
                <div class="table-right">
                    <h2>Kruskal's method</h2>
                    <table id="kruskal-scores-en" class="score-table"></table>
                </div>
            </div>
            <div id="player-scores-en" class="player-scores">
                <h2>Your Scores</h2>
                <table id="player-scores-table-en" class="score-table">
                    <tr>
                        <th>Prim's</th>
                        <th>Kruskal's</th>
                    </tr>
                    <tr>
                        <td id="player-prim-en">0</td>
                        <td id="player-kruskal-en">0</td>
                    </tr>
                </table>
            </div>
            <div style="text-align: center; margin-top: 10px;">
                <button id="close-scores-popup-en">Close</button>
            </div>
        </div>
        <!-- END English SCORES POPUP -->

        <!-- English Tutorial Popup -->
        <div id="tutorial-popup-en" class="popup hidden popup-2">
            <div class="centered">
                <img src="./img/logo_500x500.png" alt="Logo" class="bigLogo">
            </div>
            <div class="info info-popup">
                <h1>Prim - game tutorial</h1>
                <h3>The goal of the game is to create the Minimum Spanning Tree (MST) by starting from a selected
                    node and adding the lowest-weight edges that connect new vertices.</h3>
                <h2>Steps to Play:</h2>
                <ol>
                    <li><strong>Start the game</strong> – You will see a graph with nodes and edges. One node is
                        preselected as the starting point (highlighted differently).</li>
                    <li><strong>Select edges</strong> – Click on an edge that connects a selected node to a new node.</li>
                    <li><strong>Continue</strong> – Keep adding edges following Prim’s algorithm until all nodes are included.</li>
                    <li><strong>Check your solution</strong> – Click Submit to verify if your solution is correct.</li>

                </ol>
                <h2>Useful Buttons in the Game</h2>
                <ul>
                    <li><strong>Undo</strong> - You can remove the last selected edge either by clicking the undo
                        button or by selecting an already chosen edge.</li>
                    <li><strong>Pause </strong> - You can pause the game at any time.</li>
                    <li><strong>Restart</strong> - If you want to restart, click the 'start again' button.</li>
                    <li><strong>Scores</strong> – View your score and the leaderboard.</li>
                </ul>
            </div>
            <!-- Close button at bottom -->
            <div style="text-align: center; margin-top: 10px;">
                <button id="close-tutorial-popup-en">Close</button>
            </div>
        </div>

    </div>
</div>
</body>
</html>
